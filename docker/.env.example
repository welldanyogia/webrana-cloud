# ═══════════════════════════════════════════════════════════════════════════════
# WeBrana Cloud - Environment Configuration
# Copy this file to .env and fill in the values
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# GENERAL
# ─────────────────────────────────────────────────────────────────────────────
NODE_ENV=production

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE (PostgreSQL)
# ─────────────────────────────────────────────────────────────────────────────
POSTGRES_USER=webrana
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=webrana

# Database URLs for each service (using same database with different schemas)
# Format: postgresql://user:password@host:port/database?schema=schema_name
DATABASE_URL=postgresql://webrana:your_secure_password_here@postgres:5432/webrana
AUTH_DATABASE_URL=postgresql://webrana:your_secure_password_here@postgres:5432/webrana?schema=auth
CATALOG_DATABASE_URL=postgresql://webrana:your_secure_password_here@postgres:5432/webrana?schema=catalog
ORDER_DATABASE_URL=postgresql://webrana:your_secure_password_here@postgres:5432/webrana?schema=orders
BILLING_DATABASE_URL=postgresql://webrana:your_secure_password_here@postgres:5432/webrana?schema=billing
INSTANCE_DATABASE_URL=postgresql://webrana:your_secure_password_here@postgres:5432/webrana?schema=instances
NOTIFICATION_DATABASE_URL=postgresql://webrana:your_secure_password_here@postgres:5432/webrana?schema=notifications

# ─────────────────────────────────────────────────────────────────────────────
# REDIS
# ─────────────────────────────────────────────────────────────────────────────
REDIS_PASSWORD=your_redis_password_here
REDIS_URL=redis://:your_redis_password_here@redis:6379

# ─────────────────────────────────────────────────────────────────────────────
# JWT AUTHENTICATION
# ─────────────────────────────────────────────────────────────────────────────
# For production, use RS256 with public/private key pair
# Generate keys: ssh-keygen -t rsa -b 4096 -m PEM -f jwtRS256.key
# Extract public key: openssl rsa -in jwtRS256.key -pubout -outform PEM -out jwtRS256.key.pub
JWT_ALGORITHM=RS256
JWT_SECRET=your_jwt_secret_for_hs256_development_only
JWT_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END RSA PRIVATE KEY-----"
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nYOUR_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----"
JWT_EXPIRES_IN=1d
REFRESH_TOKEN_EXPIRES_IN=7d

# ─────────────────────────────────────────────────────────────────────────────
# INTERNAL API SECURITY
# ─────────────────────────────────────────────────────────────────────────────
# Used for inter-service communication
INTERNAL_API_KEY=your_internal_api_key_here

# ─────────────────────────────────────────────────────────────────────────────
# CORS CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
CORS_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com

# ─────────────────────────────────────────────────────────────────────────────
# PAYMENT GATEWAY - TRIPAY
# ─────────────────────────────────────────────────────────────────────────────
# Get credentials from: https://tripay.co.id/member/merchant
TRIPAY_API_KEY=your_tripay_api_key
TRIPAY_PRIVATE_KEY=your_tripay_private_key
TRIPAY_MERCHANT_CODE=your_merchant_code
TRIPAY_MODE=production
TRIPAY_CALLBACK_URL=https://yourdomain.com/api/v1/webhooks/tripay

# ─────────────────────────────────────────────────────────────────────────────
# CLOUD PROVIDERS
# ─────────────────────────────────────────────────────────────────────────────
# DigitalOcean API Token
# Get from: https://cloud.digitalocean.com/account/api/tokens
DO_ACCESS_TOKEN=your_digitalocean_token

# Vultr API Key (future use)
# Get from: https://my.vultr.com/settings/#settingsapi
VULTR_API_KEY=your_vultr_api_key

# ─────────────────────────────────────────────────────────────────────────────
# EMAIL / SMTP CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_specific_password
SMTP_FROM="WeBrana Cloud <noreply@yourdomain.com>"

# ─────────────────────────────────────────────────────────────────────────────
# TELEGRAM BOT NOTIFICATIONS
# ─────────────────────────────────────────────────────────────────────────────
# Get from BotFather: https://t.me/botfather
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# ─────────────────────────────────────────────────────────────────────────────
# FRONTEND ENVIRONMENT
# ─────────────────────────────────────────────────────────────────────────────
NEXT_PUBLIC_API_URL=https://yourdomain.com/api/v1
NEXT_PUBLIC_WS_URL=wss://yourdomain.com/ws

# ─────────────────────────────────────────────────────────────────────────────
# SSL/TLS CERTIFICATES (for nginx)
# ─────────────────────────────────────────────────────────────────────────────
# Place your SSL certificates in docker/nginx/ssl/
# SSL_CERT_PATH=/etc/nginx/ssl/fullchain.pem
# SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem

# ─────────────────────────────────────────────────────────────────────────────
# DOMAIN CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
DOMAIN=yourdomain.com
ADMIN_DOMAIN=admin.yourdomain.com

# ─────────────────────────────────────════════════════════════════════════════
# BACKUP CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/backups
